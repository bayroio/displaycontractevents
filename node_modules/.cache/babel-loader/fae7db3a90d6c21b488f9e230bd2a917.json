{"ast":null,"code":"import _regeneratorRuntime from \"/Users/edgarherrador/Documents/GitHub/displaycontractevents/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/edgarherrador/Documents/GitHub/displaycontractevents/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/edgarherrador/Documents/GitHub/displaycontractevents/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/edgarherrador/Documents/GitHub/displaycontractevents/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/edgarherrador/Documents/GitHub/displaycontractevents/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/edgarherrador/Documents/GitHub/displaycontractevents/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/edgarherrador/Documents/GitHub/displaycontractevents/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/edgarherrador/Documents/GitHub/displaycontractevents/src/App.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.displayLastBidRevealedEvents =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var lastBlock, bidEvents;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              bidEvents = [];\n              _context.next = 3;\n              return _this.web3.eth.getBlockNumber().then(function (value) {\n                lastBlock = value;\n              });\n\n            case 3:\n              _this.setState({\n                currentBlock: lastBlock\n              });\n\n              _context.next = 6;\n              return _this.ENSContract.getPastEvents(\"BidRevealed\", {\n                fromBlock: lastBlock - 12343,\n                toBlock: \"latest\"\n              }).then(function (events) {\n                console.log(events);\n                bidEvents = events;\n              });\n\n            case 6:\n              _this.setState({\n                bidRevealed: bidEvents\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.web3 = new Web3(Web3.givenProvider || \"ws://localhost:8546\");\n    _this.ENSContract = new _this.web3.eth.Contract([{\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"releaseDeed\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"getAllowedTime\",\n      \"outputs\": [{\n        \"name\": \"timestamp\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"unhashedName\",\n        \"type\": \"string\"\n      }],\n      \"name\": \"invalidateName\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }, {\n        \"name\": \"salt\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"shaBid\",\n      \"outputs\": [{\n        \"name\": \"sealedBid\",\n        \"type\": \"bytes32\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"bidder\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"seal\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"cancelBid\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"entries\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint8\"\n      }, {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }, {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }, {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"ens\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"address\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }, {\n        \"name\": \"_salt\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"unsealBid\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"transferRegistrars\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"sealedBids\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"address\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"state\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint8\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }],\n      \"name\": \"transfer\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"name\": \"_timestamp\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"isAllowed\",\n      \"outputs\": [{\n        \"name\": \"allowed\",\n        \"type\": \"bool\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"finalizeAuction\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"registryStarted\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"launchLength\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint32\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"sealedBid\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"newBid\",\n      \"outputs\": [],\n      \"payable\": true,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"labels\",\n        \"type\": \"bytes32[]\"\n      }],\n      \"name\": \"eraseNode\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_hashes\",\n        \"type\": \"bytes32[]\"\n      }],\n      \"name\": \"startAuctions\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"name\": \"deed\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"registrationDate\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"acceptRegistrarTransfer\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_hash\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"startAuction\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"rootNode\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }],\n      \"payable\": false,\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"hashes\",\n        \"type\": \"bytes32[]\"\n      }, {\n        \"name\": \"sealedBid\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"startAuctionsAndBid\",\n      \"outputs\": [],\n      \"payable\": true,\n      \"type\": \"function\"\n    }, {\n      \"inputs\": [{\n        \"name\": \"_ens\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"_rootNode\",\n        \"type\": \"bytes32\"\n      }, {\n        \"name\": \"_startDate\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"type\": \"constructor\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"registrationDate\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"AuctionStarted\",\n      \"type\": \"event\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"indexed\": true,\n        \"name\": \"bidder\",\n        \"type\": \"address\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"deposit\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"NewBid\",\n      \"type\": \"event\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"indexed\": true,\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"status\",\n        \"type\": \"uint8\"\n      }],\n      \"name\": \"BidRevealed\",\n      \"type\": \"event\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"indexed\": true,\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"registrationDate\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"HashRegistered\",\n      \"type\": \"event\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"HashReleased\",\n      \"type\": \"event\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"hash\",\n        \"type\": \"bytes32\"\n      }, {\n        \"indexed\": true,\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"registrationDate\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"HashInvalidated\",\n      \"type\": \"event\"\n    }]);\n    _this.ENSContract.options.address = '0x6090A6e47849629b7245Dfa1Ca21D94cd15878Ef';\n    _this.state = {\n      bidRevealed: [],\n      currentBlock: 0\n    };\n    return _this;\n  }\n  /*\n  There's approximately 12,343 blocks every two days, so finding the current block number\n  and subtracting that amount would give the block number to target.\n  Pass that in as the fromBlock parameter to the getPastEvents function to limit to that range,\n  in this case 2 days more or less\n  */\n\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \" # current block: \", this.state.currentBlock), React.createElement(\"button\", {\n        onClick: this.displayLastBidRevealedEvents,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Display Bid Reveal Events\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, this.state.bidRevealed.map(function (event, idx) {\n        return React.createElement(\"li\", {\n          key: idx,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Block Hash: \", React.createElement(\"a\", {\n          className: \"App-link\",\n          href: 'https://etherscan.io/tx/' + event.transactionHash,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, event.transactionHash), \", Block Number: \", event.blockNumber, \", Event: \", event.event);\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/edgarherrador/Documents/GitHub/displaycontractevents/src/App.js"],"names":["React","Component","Web3","App","displayLastBidRevealedEvents","bidEvents","web3","eth","getBlockNumber","then","value","lastBlock","setState","currentBlock","ENSContract","getPastEvents","fromBlock","toBlock","events","console","log","bidRevealed","givenProvider","Contract","options","address","state","map","event","idx","transactionHash","blockNumber"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport './App.css';\n\nclass App extends Component {\n  constructor () {\n    super()\n\n    this.web3 = new Web3(Web3.givenProvider || \"ws://localhost:8546\");\n    this.ENSContract = new this.web3.eth.Contract([{\"constant\":false,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"}],\"name\":\"releaseDeed\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"}],\"name\":\"getAllowedTime\",\"outputs\":[{\"name\":\"timestamp\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"unhashedName\",\"type\":\"string\"}],\"name\":\"invalidateName\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"hash\",\"type\":\"bytes32\"},{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"salt\",\"type\":\"bytes32\"}],\"name\":\"shaBid\",\"outputs\":[{\"name\":\"sealedBid\",\"type\":\"bytes32\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"bidder\",\"type\":\"address\"},{\"name\":\"seal\",\"type\":\"bytes32\"}],\"name\":\"cancelBid\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"}],\"name\":\"entries\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ens\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"},{\"name\":\"_value\",\"type\":\"uint256\"},{\"name\":\"_salt\",\"type\":\"bytes32\"}],\"name\":\"unsealBid\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"}],\"name\":\"transferRegistrars\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"sealedBids\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"}],\"name\":\"state\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"},{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transfer\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint256\"}],\"name\":\"isAllowed\",\"outputs\":[{\"name\":\"allowed\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"}],\"name\":\"finalizeAuction\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"registryStarted\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"launchLength\",\"outputs\":[{\"name\":\"\",\"type\":\"uint32\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"sealedBid\",\"type\":\"bytes32\"}],\"name\":\"newBid\",\"outputs\":[],\"payable\":true,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"labels\",\"type\":\"bytes32[]\"}],\"name\":\"eraseNode\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_hashes\",\"type\":\"bytes32[]\"}],\"name\":\"startAuctions\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"hash\",\"type\":\"bytes32\"},{\"name\":\"deed\",\"type\":\"address\"},{\"name\":\"registrationDate\",\"type\":\"uint256\"}],\"name\":\"acceptRegistrarTransfer\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"}],\"name\":\"startAuction\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"rootNode\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"hashes\",\"type\":\"bytes32[]\"},{\"name\":\"sealedBid\",\"type\":\"bytes32\"}],\"name\":\"startAuctionsAndBid\",\"outputs\":[],\"payable\":true,\"type\":\"function\"},{\"inputs\":[{\"name\":\"_ens\",\"type\":\"address\"},{\"name\":\"_rootNode\",\"type\":\"bytes32\"},{\"name\":\"_startDate\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"registrationDate\",\"type\":\"uint256\"}],\"name\":\"AuctionStarted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":true,\"name\":\"bidder\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"deposit\",\"type\":\"uint256\"}],\"name\":\"NewBid\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"status\",\"type\":\"uint8\"}],\"name\":\"BidRevealed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"registrationDate\",\"type\":\"uint256\"}],\"name\":\"HashRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"HashReleased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":true,\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"registrationDate\",\"type\":\"uint256\"}],\"name\":\"HashInvalidated\",\"type\":\"event\"}]);\n    this.ENSContract.options.address = '0x6090A6e47849629b7245Dfa1Ca21D94cd15878Ef';\n\n    this.state = {\n      bidRevealed: [],\n      currentBlock: 0,\n    };\n  }\n\n  /*\n  There's approximately 12,343 blocks every two days, so finding the current block number\n  and subtracting that amount would give the block number to target.\n  Pass that in as the fromBlock parameter to the getPastEvents function to limit to that range,\n  in this case 2 days more or less\n  */\n  displayLastBidRevealedEvents = async() => {\n    let lastBlock;\n    let bidEvents = [];\n\n    await this.web3.eth.getBlockNumber().then(value => {\n      lastBlock = value;\n    });\n\n    this.setState({currentBlock: lastBlock});\n\n    await this.ENSContract.getPastEvents(\"BidRevealed\", {\n      fromBlock: lastBlock - 12343,\n      toBlock: \"latest\"\n    }).then (events => {\n      console.log(events);\n      bidEvents = events;\n    });\n\n    this.setState({bidRevealed: bidEvents});\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n          <p> # current block: {this.state.currentBlock}</p>\n          <button onClick={this.displayLastBidRevealedEvents}>Display Bid Reveal Events</button>\n          <ul>{this.state.bidRevealed.map((event,idx) => \n          <li key={idx}>Block Hash: <a className=\"App-link\" href={'https://etherscan.io/tx/'+event.transactionHash} target=\"_blank\" rel=\"noopener noreferrer\">{event.transactionHash}</a>, Block Number: {event.blockNumber}, Event: {event.event}</li>)}</ul>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}